# ===========================================
# Google Cloud Run â€” Production Environment
# ===========================================
# Set these as env vars in Cloud Run, NOT in a .env file

# --- Application ---
APP_NAME=Laravel
APP_ENV=production
APP_KEY=              # Generate: php artisan key:generate --show
APP_DEBUG=false
APP_URL=https://your-service.run.app

# --- Logging (Cloud Run: stdout/stderr) ---
LOG_CHANNEL=stderr
LOG_LEVEL=warning

# --- Database (PlanetScale PostgreSQL) ---
DB_CONNECTION=pgsql
DB_HOST=your-db.psdb.cloud       # PlanetScale host
DB_PORT=5432
DB_DATABASE=laravel
DB_USERNAME=your-username
DB_PASSWORD=
DB_SSLMODE=require

# --- Redis (Memorystore) ---
REDIS_CLIENT=phpredis
REDIS_HOST=10.0.0.X    # Memorystore private IP
REDIS_PASSWORD=null
REDIS_PORT=6379

# --- Cache & Session via Redis ---
CACHE_STORE=redis
SESSION_DRIVER=redis
SESSION_SECURE_COOKIE=true

# --- Queue via Cloud Tasks ---
QUEUE_CONNECTION=cloudtasks
CLOUD_TASKS_PROJECT=your-gcp-project-id
CLOUD_TASKS_LOCATION=europe-west1
CLOUD_TASKS_QUEUE=default
CLOUD_TASKS_SERVICE_EMAIL=your-service@your-project.iam.gserviceaccount.com

# --- Filesystem (Cloud Run is stateless) ---
FILESYSTEM_DISK=local

# --- Maintenance Mode (can't use file on Cloud Run) ---
APP_MAINTENANCE_DRIVER=cache
APP_MAINTENANCE_STORE=redis

# --- Cloud Scheduler (cron via HTTP) ---
CLOUD_SCHEDULER_TOKEN=     # Random secret token, set the same in Cloud Scheduler header

# --- Migrations (set true on first deploy) ---
RUN_MIGRATIONS=false
